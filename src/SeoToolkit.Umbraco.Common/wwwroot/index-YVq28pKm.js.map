{"version":3,"file":"index-YVq28pKm.js","sources":["../assets/src/sections/seoToolkitSection.ts","../assets/src/dashboards/welcome/welcomeDashboardManifest.ts","../assets/src/api/core/OpenAPI.ts","../assets/src/index.ts"],"sourcesContent":["import { ManifestSection } from \"@umbraco-cms/backoffice/extension-registry\";\r\n\r\nexport const seoToolkitSection : ManifestSection = {\r\n    type: 'section',\r\n    alias: 'SeoToolkit',\r\n    name: 'SeoToolkit',\r\n    weight: 10,\r\n    meta: {\r\n        label: 'SeoToolkit',\r\n        pathname: 'SeoToolkit'\r\n    }\r\n}","import { ManifestDashboard } from \"@umbraco-cms/backoffice/extension-registry\";\r\n\r\nexport const welcomeDashboardManifest : ManifestDashboard = {\r\n    type: \"dashboard\",\r\n    alias: \"seoToolkitWelcomeDashboard\",\r\n    name: \"Welcome\",\r\n    meta: {\r\n        pathname: \"welcome\"\r\n    },\r\n    element: () => import(\"./welcomeDashboard.element\"),\r\n    conditions: [\r\n        {\r\n            alias: \"Umb.Condition.SectionAlias\",\r\n            match: \"SeoToolkit\"\r\n        }\r\n    ]\r\n}","import type { ApiRequestOptions } from './ApiRequestOptions';\n\ntype Headers = Record<string, string>;\ntype Middleware<T> = (value: T) => T | Promise<T>;\ntype Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;\n\nexport class Interceptors<T> {\n  _fns: Middleware<T>[];\n\n  constructor() {\n    this._fns = [];\n  }\n\n  eject(fn: Middleware<T>): void {\n    const index = this._fns.indexOf(fn);\n    if (index !== -1) {\n      this._fns = [...this._fns.slice(0, index), ...this._fns.slice(index + 1)];\n    }\n  }\n\n  use(fn: Middleware<T>): void {\n    this._fns = [...this._fns, fn];\n  }\n}\n\nexport type OpenAPIConfig = {\n\tBASE: string;\n\tCREDENTIALS: 'include' | 'omit' | 'same-origin';\n\tENCODE_PATH?: ((path: string) => string) | undefined;\n\tHEADERS?: Headers | Resolver<Headers> | undefined;\n\tPASSWORD?: string | Resolver<string> | undefined;\n\tTOKEN?: string | Resolver<string> | undefined;\n\tUSERNAME?: string | Resolver<string> | undefined;\n\tVERSION: string;\n\tWITH_CREDENTIALS: boolean;\n\tinterceptors: {\n\t\trequest: Interceptors<RequestInit>;\n\t\tresponse: Interceptors<Response>;\n\t};\n};\n\nexport const OpenAPI: OpenAPIConfig = {\n\tBASE: '',\n\tCREDENTIALS: 'include',\n\tENCODE_PATH: undefined,\n\tHEADERS: undefined,\n\tPASSWORD: undefined,\n\tTOKEN: undefined,\n\tUSERNAME: undefined,\n\tVERSION: 'Latest',\n\tWITH_CREDENTIALS: false,\n\tinterceptors: {\n\t\trequest: new Interceptors(),\n\t\tresponse: new Interceptors(),\n\t},\n};","import { UmbEntryPointOnInit } from '@umbraco-cms/backoffice/extension-api';\r\nimport { seoToolkitSection } from './sections/seoToolkitSection';\r\nimport { welcomeDashboardManifest } from './dashboards/welcome/welcomeDashboardManifest';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { OpenAPI } from './api';\r\n\r\nexport const onInit: UmbEntryPointOnInit = (host, extensionRegistry) => {\r\n\r\n    host.consumeContext(UMB_AUTH_CONTEXT,(auth)=> {\r\n\r\n        const config = auth.getOpenApiConfiguration();\r\n  \r\n        OpenAPI.BASE = config.base;\r\n        OpenAPI.WITH_CREDENTIALS = config.withCredentials;\r\n        OpenAPI.CREDENTIALS = config.credentials;\r\n        OpenAPI.TOKEN = config.token;\r\n  \r\n    });\r\n\r\n    extensionRegistry.register(seoToolkitSection);\r\n    extensionRegistry.register(welcomeDashboardManifest);\r\n};"],"names":["seoToolkitSection","welcomeDashboardManifest","Interceptors","fn","index","OpenAPI","onInit","host","extensionRegistry","UMB_AUTH_CONTEXT","auth","config"],"mappings":";AAEO,MAAMA,IAAsC;AAAA,EAC/C,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,MAAM;AAAA,IACF,OAAO;AAAA,IACP,UAAU;AAAA,EACd;AACJ,GCTaC,IAA+C;AAAA,EACxD,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,MAAM;AAAA,IACF,UAAU;AAAA,EACd;AAAA,EACA,SAAS,MAAM,OAAO,wCAA4B;AAAA,EAClD,YAAY;AAAA,IACR;AAAA,MACI,OAAO;AAAA,MACP,OAAO;AAAA,IACX;AAAA,EACJ;AACJ;ACVO,MAAMC,EAAgB;AAAA,EAG3B,cAAc;AACZ,SAAK,OAAO;EACd;AAAA,EAEA,MAAMC,GAAyB;AAC7B,UAAMC,IAAQ,KAAK,KAAK,QAAQD,CAAE;AAClC,IAAIC,MAAU,OACZ,KAAK,OAAO,CAAC,GAAG,KAAK,KAAK,MAAM,GAAGA,CAAK,GAAG,GAAG,KAAK,KAAK,MAAMA,IAAQ,CAAC,CAAC;AAAA,EAE5E;AAAA,EAEA,IAAID,GAAyB;AAC3B,SAAK,OAAO,CAAC,GAAG,KAAK,MAAMA,CAAE;AAAA,EAC/B;AACF;AAkBO,MAAME,IAAyB;AAAA,EACrC,MAAM;AAAA,EACN,aAAa;AAAA,EACb,aAAa;AAAA,EACb,SAAS;AAAA,EACT,UAAU;AAAA,EACV,OAAO;AAAA,EACP,UAAU;AAAA,EACV,SAAS;AAAA,EACT,kBAAkB;AAAA,EAClB,cAAc;AAAA,IACb,SAAS,IAAIH,EAAa;AAAA,IAC1B,UAAU,IAAIA,EAAa;AAAA,EAC5B;AACD,GCjDaI,IAA8B,CAACC,GAAMC,MAAsB;AAE/D,EAAAD,EAAA,eAAeE,GAAiB,CAACC,MAAQ;AAEpC,UAAAC,IAASD,EAAK;AAEpB,IAAAL,EAAQ,OAAOM,EAAO,MACtBN,EAAQ,mBAAmBM,EAAO,iBAClCN,EAAQ,cAAcM,EAAO,aAC7BN,EAAQ,QAAQM,EAAO;AAAA,EAAA,CAE1B,GAEDH,EAAkB,SAASR,CAAiB,GAC5CQ,EAAkB,SAASP,CAAwB;AACvD;"}