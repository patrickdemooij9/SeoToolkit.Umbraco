{"version":3,"file":"RobotsTxtModuleWorkspace.element-BUyzH00N.js","sources":["../../../assets/src/workspaces/RobotsTxtModuleWorkspace.element.ts"],"sourcesContent":["import { UmbElementMixin }\r\n    from \"@umbraco-cms/backoffice/element-api\";\r\nimport { LitElement, html, customElement, state, when, repeat, css }\r\n    from \"@umbraco-cms/backoffice/external/lit\";\r\nimport RobotsTxtModuleContext, { ST_ROBOTSTXT_MODULE_TOKEN_CONTEXT } from \"../contexts/RobotsTxtModuleContext\";\r\nimport { UmbPropertyTypeAppearanceModel } from \"@umbraco-cms/backoffice/content-type\";\r\nimport { ValidationError } from \"../types/ValidationError\";\r\nimport { UmbPropertyDatasetElement, UmbPropertyValueData } from \"@umbraco-cms/backoffice/property\";\r\n\r\n\r\n@customElement('seotoolkit-module-robotstxt')\r\nexport class SeoToolkitRobotsTxtModuleElement extends\r\n    UmbElementMixin(LitElement) {\r\n\r\n    #context?: RobotsTxtModuleContext;\r\n\r\n    @state()\r\n    _content?: UmbPropertyValueData;\r\n\r\n    @state()\r\n    _validationErrors: ValidationError[] = [];\r\n\r\n    propertyAppearance: UmbPropertyTypeAppearanceModel = {\r\n        labelOnTop: true\r\n    };\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.consumeContext(ST_ROBOTSTXT_MODULE_TOKEN_CONTEXT, (instance) => {\r\n            this.#context = instance;\r\n\r\n            this.observe(instance.content, (val) => {\r\n                this._content = {\r\n                    alias: 'robotsTxt',\r\n                    value: val\r\n                };\r\n            })\r\n        });\r\n    }\r\n\r\n    #onPropertyDataChange(e: Event) {\r\n        const value = (e.target as UmbPropertyDatasetElement).value;\r\n\r\n        const newValue = value.find((item) => item.alias === 'robotsTxt')?.value as string;\r\n        if (newValue) {\r\n            this.#context?.setContent(newValue);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return html`\r\n            <umb-workspace-editor>\r\n                <div class=\"robotsTxtWorkspace\">\r\n                <uui-box headline=\"Robots.txt\" headline-variant=\"h5\">\r\n                    <umb-property-dataset\r\n                        .value=${[this._content!]}\r\n                        @change=${this.#onPropertyDataChange}>\r\n                        <umb-property \r\n                            alias='robotsTxt'\r\n                            label='Robots.txt'\r\n                            description='Robots.txt is used to let bots know what they are able to access. If you are looking for more information about how to configure robots.txt, then <a class=\"btn-link -underline\" href=\"https://developers.google.com/search/docs/advanced/robots/intro\">this guide</a> will be able to help you out.'\r\n                            property-editor-ui-alias='Umb.PropertyEditorUi.TextArea'\r\n                            val\r\n                            .appearance=${this.propertyAppearance}\r\n                            .config=${[{\r\n                alias: 'rows',\r\n                value: 10\r\n            }]}>\r\n                        </umb-property>\r\n                    </umb-property-dataset>\r\n\r\n                    ${when(this._validationErrors.length > 0, () => html`\r\n                        <h5>Validation Errors</h5>\r\n                            ${repeat(this._validationErrors, (item) => item.error, (item) => html`\r\n                            <p class=\"error\">\r\n                                <umb-icon icon=\"icon-delete\" class=\"red\"></umb-icon>\r\n                                Line ${item.lineNumber} - ${item.error}\r\n                            </p>\r\n                            `)}\r\n                        </div>\r\n                            `)}\r\n                </uui-box>\r\n                </div>\r\n            </umb-workspace-editor>\r\n        `\r\n    }\r\n\r\n    static styles = [\r\n        css`\r\n            .robotsTxtWorkspace{\r\n                padding: var(--uui-size-layout-1);\r\n            }\r\n        `\r\n    ]\r\n}\r\n\r\nexport default SeoToolkitRobotsTxtModuleElement;"],"names":["_context","_SeoToolkitRobotsTxtModuleElement_instances","onPropertyDataChange_fn","SeoToolkitRobotsTxtModuleElement","UmbElementMixin","LitElement","__privateAdd","ST_ROBOTSTXT_MODULE_TOKEN_CONTEXT","instance","__privateSet","val","html","__privateMethod","when","repeat","item","e","newValue","_a","_b","__privateGet","css","__decorateClass","state","customElement","SeoToolkitRobotsTxtModuleElement$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC;AAWO,IAAMC,IAAN,cACHC,EAAgBC,CAAU,EAAE;AAAA,EAc5B,cAAc;AACJ,aAhBPC,EAAA,MAAAL,CAAA,GAGHK,EAAA,MAAAN,CAAA,GAMA,KAAA,oBAAuC,IAEc,KAAA,qBAAA;AAAA,MACjD,YAAY;AAAA,IAAA,GAMP,KAAA,eAAeO,GAAmC,CAACC,MAAa;AACjE,MAAAC,EAAA,MAAKT,GAAWQ,CAAA,GAEhB,KAAK,QAAQA,EAAS,SAAS,CAACE,MAAQ;AACpC,aAAK,WAAW;AAAA,UACZ,OAAO;AAAA,UACP,OAAOA;AAAA,QAAA;AAAA,MACX,CACH;AAAA,IAAA,CACJ;AAAA,EACL;AAAA,EAWA,SAAS;AACE,WAAAC;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKkB,CAAC,KAAK,QAAS,CAAC;AAAA,kCACfC,QAAKX,GAAqBC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAOlB,KAAK,kBAAkB;AAAA,sCAC3B,CAAC;AAAA,MACvB,OAAO;AAAA,MACP,OAAO;AAAA,IAAA,CACV,CAAC;AAAA;AAAA;AAAA;AAAA,sBAIQW,EAAK,KAAK,kBAAkB,SAAS,GAAG,MAAMF;AAAA;AAAA,8BAEtCG,EAAO,KAAK,mBAAmB,CAACC,MAASA,EAAK,OAAO,CAACA,MAASJ;AAAA;AAAA;AAAA,uCAGtDI,EAAK,UAAU,MAAMA,EAAK,KAAK;AAAA;AAAA,6BAEzC,CAAC;AAAA;AAAA,6BAED,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,EAK1B;AASJ;AAjFIf,IAAA,oBAAA,QAAA;AAHGC,IAAA,oBAAA,QAAA;AA8BHC,IAAqB,SAACc,GAAU;;AAGtB,QAAAC,KAAWC,IAFFF,EAAE,OAAqC,MAE/B,KAAK,CAACD,MAASA,EAAK,UAAU,WAAW,MAA/C,gBAAAG,EAAkD;AACnE,EAAID,OACKE,IAAAC,EAAA,MAAApB,CAAA,MAAA,QAAAmB,EAAU,WAAWF;AAElC;AArCSd,EA6EF,SAAS;AAAA,EACZkB;AAAA;AAAA;AAAA;AAAA;AAKJ;AA7EAC,EAAA;AAAA,EADCC,EAAM;AAAA,GALEpB,EAMT,WAAA,YAAA,CAAA;AAGAmB,EAAA;AAAA,EADCC,EAAM;AAAA,GAREpB,EAST,WAAA,qBAAA,CAAA;AATSA,IAANmB,EAAA;AAAA,EADNE,EAAc,6BAA6B;AAAA,GAC/BrB,CAAA;AAsFb,MAAAsB,IAAetB;"}