{"version":3,"file":"index-DbuZ2lJc.js","sources":["../../../assets/src/Constants.ts","../../../assets/src/manifests/ModuleManifests.ts","../../../assets/src/index.ts"],"sourcesContent":["export const SEOTOOLKIT_ROBOTSTXT_ENTITY = \"seoToolkit-robotstxt\";","import { ManifestTreeItem, ManifestWorkspace, ManifestWorkspaceAction } from \"@umbraco-cms/backoffice/extension-registry\";\r\nimport { SEOTOOLKIT_ROBOTSTXT_ENTITY } from \"../Constants\";\r\nimport { UmbSubmitWorkspaceAction } from \"@umbraco-cms/backoffice/workspace\";\r\n\r\nconst RobotsTxtTreeItem: ManifestTreeItem = {\r\n    type: 'treeItem',\r\n    kind: 'default',\r\n    alias: 'seoToolkit.module.robotsTxt',\r\n    name: 'SeoToolkit RobotsTxt',\r\n    forEntityTypes: [\r\n        SEOTOOLKIT_ROBOTSTXT_ENTITY\r\n    ]\r\n}\r\n\r\nconst RobotsTxtWorkspace: ManifestWorkspace = {\r\n    type: 'workspace',\r\n    alias: 'seoToolkit.module.workspace.robotsTxt',\r\n    name: 'SeoToolkit RobotsTxt Workspace',\r\n    element: () => import('../workspaces/RobotsTxtModuleWorkspace.element'),\r\n    api: () => import('../contexts/RobotsTxtModuleContext'),\r\n    meta: {\r\n        entityType: SEOTOOLKIT_ROBOTSTXT_ENTITY\r\n    }\r\n};\r\n\r\nconst RobotsTxtSaveAction: ManifestWorkspaceAction = {\r\n    type: 'workspaceAction',\r\n    kind: 'default',\r\n    alias: 'seoToolkit.module.workspace.actions.save',\r\n    name: 'SeoToolkit RobotsTxt Workspace Save',\r\n    api: UmbSubmitWorkspaceAction,\r\n    meta: {\r\n        look: 'primary',\r\n        color: 'positive',\r\n        label: '#buttons_save',\r\n    },\r\n    conditions: [\r\n        {\r\n            alias: 'Umb.Condition.WorkspaceAlias',\r\n            match: 'seoToolkit.module.workspace.robotsTxt',\r\n        },\r\n    ],\r\n}\r\n\r\nexport const Manifests = [RobotsTxtTreeItem, RobotsTxtWorkspace, RobotsTxtSaveAction];","import { UmbEntryPointOnInit } from '@umbraco-cms/backoffice/extension-api';\r\nimport { OpenAPI } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { Manifests } from './manifests/ModuleManifests';\r\n\r\nexport const onInit: UmbEntryPointOnInit = (host, extensionRegistry) => {\r\n\r\n    host.consumeContext(UMB_AUTH_CONTEXT, (auth) => {\r\n\r\n        const config = auth.getOpenApiConfiguration();\r\n\r\n        OpenAPI.BASE = config.base;\r\n        OpenAPI.WITH_CREDENTIALS = config.withCredentials;\r\n        OpenAPI.CREDENTIALS = config.credentials;\r\n        OpenAPI.TOKEN = config.token;\r\n\r\n    });\r\n\r\n    extensionRegistry.registerMany(Manifests);\r\n};"],"names":["SEOTOOLKIT_ROBOTSTXT_ENTITY","RobotsTxtTreeItem","RobotsTxtWorkspace","RobotsTxtSaveAction","UmbSubmitWorkspaceAction","Manifests","onInit","host","extensionRegistry","UMB_AUTH_CONTEXT","auth","config","OpenAPI"],"mappings":";;;AAAO,MAAMA,IAA8B,wBCIrCC,IAAsC;AAAA,EACxC,MAAM;AAAA,EACN,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,gBAAgB;AAAA,IACZD;AAAA,EACJ;AACJ,GAEME,IAAwC;AAAA,EAC1C,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,SAAS,MAAM,OAAO,gDAAgD;AAAA,EACtE,KAAK,MAAM,OAAO,sCAAoC;AAAA,EACtD,MAAM;AAAA,IACF,YAAYF;AAAA,EAChB;AACJ,GAEMG,IAA+C;AAAA,EACjD,MAAM;AAAA,EACN,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA,EACN,KAAKC;AAAA,EACL,MAAM;AAAA,IACF,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,EACX;AAAA,EACA,YAAY;AAAA,IACR;AAAA,MACI,OAAO;AAAA,MACP,OAAO;AAAA,IACX;AAAA,EACJ;AACJ,GAEaC,IAAY,CAACJ,GAAmBC,GAAoBC,CAAmB,GCvCvEG,IAA8B,CAACC,GAAMC,MAAsB;AAE/D,EAAAD,EAAA,eAAeE,GAAkB,CAACC,MAAS;AAEtC,UAAAC,IAASD,EAAK;AAEpB,IAAAE,EAAQ,OAAOD,EAAO,MACtBC,EAAQ,mBAAmBD,EAAO,iBAClCC,EAAQ,cAAcD,EAAO,aAC7BC,EAAQ,QAAQD,EAAO;AAAA,EAAA,CAE1B,GAEDH,EAAkB,aAAaH,CAAS;AAC5C;"}